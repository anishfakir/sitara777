class BetManager { constructor() { this.betTypes = []; this.filteredBetTypes = []; this.init(); } init() { console.log("ðŸŽ² Bet Manager initialized"); } async loadData() { try { const betTypesSnapshot = await database.ref(DB_PATHS.BET_TYPES).once("value"); if (betTypesSnapshot.exists()) { this.betTypes = []; betTypesSnapshot.forEach((childSnapshot) => { this.betTypes.push({ id: childSnapshot.key, ...childSnapshot.val() }); }); } else { this.betTypes = []; } this.renderBetTypesTable(); } catch (error) { console.error("Error loading bet types:", error); showAlert("danger", "Failed to load bet types data"); } } renderBetTypesTable() { const tableBody = document.getElementById("betTypesTableBody"); if (!tableBody) return; if (this.betTypes.length === 0) { tableBody.innerHTML = `<tr><td colspan="7" class="text-center py-4"><div class="empty-state"><i class="fas fa-dice"></i><p>No bet types found</p><small>Add your first bet type to get started</small></div></td></tr>`; return; } tableBody.innerHTML = this.betTypes.map(betType => this.createBetTypeRow(betType)).join(""); } createBetTypeRow(betType) { return `<tr class="fade-in"><td><h6 class="mb-0">${betType.name || "N/A"}</h6><small class="text-muted">ID: ${betType.id}</small></td><td><span class="text-muted">${betType.description || "No description"}</span></td><td><span class="badge bg-info">${betType.bazaarName || "N/A"}</span></td><td><span class="badge bg-success">â‚¹${betType.minAmount || 0}</span></td><td><span class="badge bg-warning">â‚¹${betType.maxAmount || 0}</span></td><td><span class="badge bg-primary">${betType.odds || 0}x</span></td><td><div class="action-buttons"><button class="btn btn-sm btn-outline-primary" onclick="betManager.editBetType(\"${betType.id}\")"><i class="fas fa-edit"></i></button><button class="btn btn-sm btn-outline-danger" onclick="betManager.deleteBetType(\"${betType.id}\")"><i class="fas fa-trash"></i></button></div></td></tr>`; } } let betManager; document.addEventListener("DOMContentLoaded", () => { betManager = new BetManager(); window.betManager = betManager; });
